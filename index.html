<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self';">
    <meta name="referrer" content="no-referrer">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <title>St. Clare's Endo Schedule</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üè• St. Clare's Endo Schedule</h1>
            <p class="subtitle">Employee Shift Rotation</p>
        </header>

        <div class="controls">
            <div class="control-group">
                <label for="yearSelect">Select Year:</label>
                <select id="yearSelect"></select>
            </div>
            <div class="control-group">
                <label for="weekFilter">Jump to Week:</label>
                <select id="weekFilter">
                    <option value="">All Weeks</option>
                </select>
            </div>
            <button id="configBtn" class="btn btn-secondary">‚öôÔ∏è Configure</button>
        </div>

        <!-- Configuration Modal -->
        <div id="configModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Configuration</h2>
                
                <div class="config-section">
                    <h3>Time Slots</h3>
                    <p class="help-text">Add time slots first, then assign them to employees below</p>
                    <div id="timeslotList"></div>
                    <div class="add-row">
                        <input type="text" id="newTimeslot" placeholder="e.g., 9:00 AM - 5:00 PM" maxlength="50">
                        <button id="addTimeslot" class="btn btn-small">+ Add</button>
                    </div>
                </div>

                <div class="config-section">
                    <h3>Employees &amp; Initial Assignments</h3>
                    <p class="help-text">Add employees, then use the dropdown next to each name to select their <strong>Week 1 starting shift</strong>. They will rotate through all slots from there.</p>
                    <div id="employeeList"></div>
                    <div class="add-row">
                        <input type="text" id="newEmployee" placeholder="Employee name" maxlength="50">
                        <button id="addEmployee" class="btn btn-small">+ Add</button>
                    </div>
                </div>

                <div class="config-section">
                    <h3>Rotation Start</h3>
                    <p class="help-text">Set which week of the year the rotation starts (Week 1 = first week of January)</p>
                    <div class="add-row">
                        <label for="startWeek">Start Week:</label>
                        <input type="number" id="startWeek" min="1" max="53" value="1">
                    </div>
                </div>

                <div class="config-buttons">
                    <button id="saveConfig" class="btn btn-primary">Save & Generate Schedule</button>
                    <button id="resetConfig" class="btn btn-secondary">Reset to Defaults</button>
                    <button id="clearData" class="btn btn-danger">Clear All Data</button>
                </div>
            </div>
        </div>

        <div id="currentWeekBanner" class="current-week-banner"></div>

        <div id="scheduleContainer" class="schedule-container">
            <!-- Schedule will be generated here -->
        </div>

        <footer>
            <p>Made with ‚ù§Ô∏è for St. Clare's Endoscopy Team</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
